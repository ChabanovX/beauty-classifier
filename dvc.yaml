stages:
  train:
    cmd: make train_attractiveness
    deps:
      - api/models/attractiveness/model.py
      - dataset/data/
    outs:
      - models/attractiveness_classifier.pt

  evaluate:
    cmd: make eval-attractiveness
    deps:
      - api/models/attractiveness/model.py
      - models/attractiveness_classifier.pt
      - dataset/data/

  deploy:
    cmd: make compose-up
    deps:
      - api/
      - docker-compose.yaml